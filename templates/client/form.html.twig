{% extends 'base.html.twig' %}

{% block main %}
	<div class="container mx-auto px-4 py-8">
		<div class="bg-white shadow-md rounded-lg overflow-hidden">

			<div class="bg-gray-800 text-white text-xl font-semibold p-4">
				Enregistrement d'un client
			</div>

			<div class="p-6 bg-gray-100">
				{{ form(formClient) }}
			</div>
			<!-- Toggle pour Création de Compte -->
			<div class="flex items-center justify-start gap-2">
			<span class="font-semibold text-gray-700">Créer un compte :</span>
			<div class="flex items-center">
				<label class="toggle-switch flex items-center cursor-pointer">
					<input type="checkbox" id="creerCompte" class="sr-only" onchange="toggleAccountFields(this)" />
					<span class="slider bg-gray-300 w-14 h-8 rounded-full transition duration-200 ease-in-out"></span>
				</label>
				<span class="ml-2 text-gray-700 font-semibold" id="toggleLabel">Non</span>
			</div>
		</div>
			</div>

			<!-- Champs Supplémentaires pour la Création de Compte -->
			<div id="accountFields" class="hidden space-y-6 mt-4">
				<!-- Champ Login -->
				<div class="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-4">
					<label for="login" class="w-full sm:w-1/4 font-semibold text-gray-700 flex items-center">
						<i class="fas fa-envelope mr-2"></i>Login
					</label>
					<input type="text" id="login" name="login"
						class="w-full sm:flex-grow p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" />
				</div>

				<!-- Champ Password -->
				<div class="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-4">
					<label for="password" class="w-full sm:w-1/4 font-semibold text-gray-700 flex items-center">
						<i class="fas fa-lock mr-2"></i>Password
					</label>
					<input type="password" id="password" name="password"
						class="w-full sm:flex-grow p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" />
				</div>
			</div>

			<div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
				<button type="reset"
					class="w-full sm:w-auto bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 flex items-center justify-center">
					<i class="fas fa-times mr-2"></i>Annuler
				</button>
				<button type="submit"
					class="w-full sm:w-auto bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 flex items-center justify-center">
					<i class="fas fa-save mr-2"></i>Enregistrer
				</button>
			</div>
			 <script>
				document.addEventListener("DOMContentLoaded", function () {
				const creerCompteToggle = document.getElementById('creerCompte');
				const accountFields = document.getElementById('accountFields');
				const toggleLabel = document.getElementById('toggleLabel');

				creerCompteToggle?.addEventListener('change', function () {
					if (this.checked) {
					accountFields.classList.remove('hidden');
					toggleLabel.textContent = 'Oui';
					} else {
					accountFields.classList.add('hidden');
					toggleLabel.textContent = 'Non';
					}
				});
				});
				function toggleAccountFields(checkbox) {
    const slider = checkbox.nextElementSibling; // Obtenez le slider
    const label = document.getElementById('toggleLabel');

    if (checkbox.checked) {
        // Couleur verte pour le slider
        slider.classList.remove('bg-gray-300');
        slider.classList.add('bg-green-500');

        // Mettre à jour le texte du label
        label.innerText = "Oui";
    } else {
        // Couleur grise pour le slider
        slider.classList.remove('bg-green-500');
        slider.classList.add('bg-gray-300');

        // Mettre à jour le texte du label
        label.innerText = "Non";
    }
}

  			</script>

		</div>
	</div>
{% endblock %}

